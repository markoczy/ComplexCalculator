/**
 * File: CCalcJavaV2::DefaultFunctions.java
 *
 * Copyright (C) 2016  Aleistar Markóczy, a.markoczy@gmail.com
 * 
 */
package mkz.cc.core.arithmetic.function;

import mkz.cc.core.debug.equation.InvalidParamCountException;
import mkz.cc.core.equation.Equation;
import mkz.cc.core.equation.definition.IFunction;

/**
 * The Class DefaultFunctions.
 */
public class CallableFunctions
{
	//
	// Chain
	//

	/** The Constant SUM. */
	public static final IFunction<Double> SUM = BasicFunctions.ADD;

	//
	// Exponential
	//

	/** The Constant EXP. */
	public static final IFunction<Double> EXP = BasicFunctions.EXP;
	
	/** The Constant LOG. */
	public static final IFunction<Double> LOG = (aArr) ->
	{
		// mode 1: log(x)
		//
		if (aArr.size() == 1) return Math.log(aArr.get(0).getValue());

		// mode 2: log(x,base)
		//
		else if (aArr.size() == 2)
		{
			double val = aArr.get(0).getValue();
			double base = aArr.get(1).getValue();
			return Math.log(val) / Math.log(base);
		}
		else throw new InvalidParamCountException(Equation.DisplayNames.LOG, aArr.size());
	};

	//
	// Trigonometry
	//

	/** The Constant SIN. */
	public static final IFunction<Double> SIN = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.SIN, aArr.size());
		double rVal = aArr.get(0).getValue();
		return Math.sin(rVal);
	};

	/** The Constant COS. */
	public static final IFunction<Double> COS = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.COS, aArr.size());
		double rVal = aArr.get(0).getValue();
		return Math.cos(rVal);
	};

	/** The Constant TAN. */
	public static final IFunction<Double> TAN = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.TAN, aArr.size());
		double rVal = aArr.get(0).getValue();
		return Math.tan(rVal);
	};

	/** The Constant COT. */
	public static final IFunction<Double> COT = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.COT, aArr.size());
		double rVal = aArr.get(0).getValue();
		return 1 / Math.tan(rVal);
	};

	/** The Constant ASIN. */
	public static final IFunction<Double> ASIN = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.ASIN, aArr.size());
		double rVal = aArr.get(0).getValue();
		return Math.asin(rVal);
	};

	/** The Constant ACOS. */
	public static final IFunction<Double> ACOS = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.ACOS, aArr.size());
		double rVal = aArr.get(0).getValue();
		return Math.acos(rVal);
	};

	/** The Constant ATAN. */
	public static final IFunction<Double> ATAN = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.ATAN, aArr.size());
		double rVal = aArr.get(0).getValue();
		return Math.atan(rVal);
	};

	/** The Constant ACOT. */
	public static final IFunction<Double> ACOT = (aArr) ->
	{
		if (aArr.size() != 1) throw new InvalidParamCountException(Equation.DisplayNames.ACOT, aArr.size());
		double rVal = aArr.get(0).getValue();
		return Math.atan(1 / rVal);
	};
}
